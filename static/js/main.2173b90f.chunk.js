(this.webpackJsonpvstreams=this.webpackJsonpvstreams||[]).push([[0],{128:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(24),c=a.n(s),l=(a(89),a(8)),o=a.n(l),i=a(15),u=a(20),m=a(30),d=a(31),p=a(33),f=a(32),b=a(34),v=(a(91),a(26)),h=a(9),E=a(77),k=a.n(E).a.initializeApp({apiKey:"AIzaSyCbOxCKMZXk5GSc8M4BJsT0iIUE9laNPQk",authDomain:"vstreams-444be.firebaseapp.com",databaseURL:"https://vstreams-444be.firebaseio.com",projectId:"vstreams-444be",storageBucket:"vstreams-444be.appspot.com",messagingSenderId:"197390395939",appId:"1:197390395939:web:9de2f6a433651de6d55f96"}),y=(a(58),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("br",null),r.a.createElement("h1",{style:{color:"cadetblue"}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"cadetblue"},class:"far fa-address-card"}))," SIGNUP")),r.a.createElement("form",null,r.a.createElement("input",{type:"text",id:"login",className:"fadeIn second",name:"login",placeholder:"Name",onChange:function(t){e.change(t,"Name")}}),r.a.createElement("input",{type:"text",id:"login",className:"fadeIn second",name:"login",placeholder:"Email Address",onChange:function(t){e.change(t,"Email")}}),e.eerr?r.a.createElement("label",{style:{color:"RED"}},"Enter proper E-Mail address"):null,r.a.createElement("input",{type:"text",id:"password",className:"fadeIn third",name:"login",placeholder:"Password",onChange:function(t){e.change(t,"Password")}}),e.perr?r.a.createElement("label",{style:{color:"RED"}},"Pasword should be greater than 4 characters"):null),r.a.createElement("div",{id:"formFooter"},e.eerr||e.perr||void 0===e.eerr||void 0===e.perr?r.a.createElement("button",{class:"btn btn-info",disabled:!0},"Submit"):r.a.createElement("button",{class:"btn btn-info",onClick:e.submit},"Submit")))))}),g=a(11),j=a.n(g),O=function(e){return{type:"usersList",val:e}},w=function(e){return{type:"videosList",val:e}},L=a(14),x=Object(L.b)((function(e){return{currUsers:e.userList}}),(function(e){return{getUsers:function(t){e(O(t))}}}))((function(e){console.log(e);var t=Object(n.useState)(""),a=Object(h.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),m=Object(h.a)(l,2),d=m[0],p=m[1],f=Object(n.useState)(),b=Object(h.a)(f,2),v=b[0],E=b[1],g=Object(n.useState)(),O=Object(h.a)(g,2),w=O[0],L=O[1],x=Object(n.useState)(""),N=Object(h.a)(x,2),S=N[0],U=N[1],C=function(){var t=Object(u.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==v||!1!==w){t.next=20;break}return t.prev=1,t.next=4,k.auth().createUserWithEmailAndPassword(s,d);case 4:if(!t.sent){t.next=15;break}return a={Name:S,Email:s,Likedvids:[]},t.next=9,j.a.post("https://vstreams-444be.firebaseio.com/users.json",a);case 9:if(200!==t.sent.status){t.next=15;break}return t.next=13,j.a.get("https://vstreams-444be.firebaseio.com/users.json");case 13:200===(n=t.sent).status&&(r=[],Object.keys(n.data).map((function(e){r.push(Object(i.a)({},n.data[e],{key:e}))})),e.getUsers(r),alert("User Registered Successfully. Wait you are being redirected to the signin page."),setTimeout((function(){e.history.push({pathname:"/Signin"})}),5e3));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),alert(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(y,{change:function(e,t){var a=e.target.value;"Name"===t&&U(a),"Email"===t&&(c(a),!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)?E(!0):E(!1)),"Password"===t&&(p(a),a.length<=4?L(!0):L(!1))},submit:C,eerr:v,perr:w})})),N=a(13),S=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("br",null),r.a.createElement("h1",{style:{color:"cadetblue"}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"cadetblue"},class:"far fa-address-card"}))," SIGNIN"),r.a.createElement("br",null)),r.a.createElement("form",null,r.a.createElement("input",{type:"text",id:"login",className:"fadeIn second",name:"login",placeholder:"email",onChange:function(t){e.change(t,"Email")}}),r.a.createElement("input",{type:"password",id:"password",className:"fadeIn third",name:"login",placeholder:"password",onChange:function(t){e.change(t,"Password")}})),r.a.createElement(N.b,{to:{pathname:"/Signup"}},"New user? Sign up Now!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"formFooter"},r.a.createElement("button",{class:"btn btn-info",onClick:e.submit},"Submit")))))},U=Object(v.f)(Object(L.b)((function(e){return{userList:e.userList}}))((function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),i=Object(h.a)(l,2),m=i[0],d=i[1],p=Object(n.useState)(),f=Object(h.a)(p,2),b=f[0],v=f[1],E=Object(n.useState)(),y=Object(h.a)(E,2),g=y[0],j=y[1],O=function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.auth().signInWithEmailAndPassword(s,m);case 3:e.control(),a="",e.userList.map((function(e){s===e.Email&&(a=e.key)})),e.history.push({pathname:"/Home",search:"?id="+a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return console.log(e),r.a.createElement(S,{change:function(e,t){var a=e.target.value;"Email"===t&&(c(a),!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)?v(!0):v(!1)),"Password"===t&&(d(a),a.length<=4?j(!0):j(!1))},submit:O,eerr:b,perr:g})}))),C=a(79),I=a.n(C),V=(a(128),a(41)),A=Object(v.f)((function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-light navbar-expand-md bg-faded justify-content-center",style:{backgroundColor:"cadetblue"}},r.a.createElement("a",{class:"navbar-brand d-flex w-50 mr-auto"},r.a.createElement(N.b,{style:{color:"white"},to:{pathname:"/Home",search:"?id="+e.obj.key}},r.a.createElement("strong",null,r.a.createElement("span",null," ",r.a.createElement("i",{class:"far fa-play-circle fa-1x"})),r.a.createElement("span",null,"    ")," V-Streamz")," ")),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsingNavbar3"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"navbar-collapse collapse w-100",id:"collapsingNavbar3"},r.a.createElement("ul",{class:"navbar-nav w-100 justify-content-center"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link"},r.a.createElement(N.b,{style:{color:"white"},to:{pathname:"/Userinfo",search:"?"+e.obj.key}},e.obj.Name)))),r.a.createElement("ul",{class:"nav navbar-nav ml-auto w-100 justify-content-end"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",style:{color:"white"},href:"/signin"},"Logout"))))))})),D=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={Name:"",Likedvids:[],key:"",Email:""},a.likeClick=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a.props.vids.map((function(e){e.key===n&&((r=e).Likes=e.Likes+1)})),e.next=4,j.a.put("https://vstreams-444be.firebaseio.com/videos/"+n+".json",r);case 4:return e.sent,void 0===a.state.Likedvids?(s=[n],console.log(s),a.setState({Likedvids:s})):((s=a.state.Likedvids).push(n),console.log(s),a.setState({Likedvids:s})),e.next=8,j.a.put("https://vstreams-444be.firebaseio.com/users/"+a.state.key+".json",a.state);case 8:e.sent,a.Update();case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.unlikeClick=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a.props.vids.map((function(e){e.key===n&&((r=e).Likes=e.Likes-1)})),e.next=4,j.a.put("https://vstreams-444be.firebaseio.com/videos/"+n+".json",r);case 4:return e.sent,s=a.state.Likedvids.indexOf(n),a.state.Likedvids.splice(s,1),e.next=9,j.a.put("https://vstreams-444be.firebaseio.com/users/"+a.state.key+".json",a.state);case 9:e.sent,a.Update();case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.Update=Object(u.a)(o.a.mark((function e(){var t,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://vstreams-444be.firebaseio.com/users.json");case 2:return 200===(t=e.sent).status&&(n=[],Object.keys(t.data).map((function(e){n.push(Object(i.a)({},t.data[e],{key:e}))})),a.props.getUsers(n)),e.next=6,j.a.get("https://vstreams-444be.firebaseio.com/videos.json");case 6:200===(r=e.sent).status&&null!==r.data&&(s=[],Object.keys(r.data).map((function(e){s.push(Object(i.a)({},r.data[e],{key:e}))})),a.props.getVideos(s));case 8:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){console.log(a.props);var e=new URLSearchParams(a.props.location.search),t="",n=!0,r=!1,s=void 0;try{for(var c,l=e.entries()[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var o=c.value;t=o[1],console.log(o[1])}}catch(i){r=!0,s=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}a.props.users.map((function(e){e.key===t&&a.setState({Name:e.Name,Likedvids:e.Likedvids,key:t,Email:e.Email})}))},a.refresh=function(){var e=new URLSearchParams(a.props.location.search),t="",n=!0,r=!1,s=void 0;try{for(var c,l=e.entries()[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var o=c.value;t=o[1],console.log(o[1])}}catch(i){r=!0,s=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}a.props.users.map((function(e){e.key===t&&a.setState({Name:e.Name,Likedvids:e.Likedvids,key:t,Email:e.Email})}))},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){console.log("after back button"),""===this.state.Name&&this.refresh()}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.vids.map((function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("h5",{class:"card-header"},t.Name),r.a.createElement("div",{class:"card-body"},r.a.createElement(I.a,{width:"100%",url:t.Play,playing:!1,controls:!0}),r.a.createElement("br",null),void 0===e.state.Likedvids?r.a.createElement("div",null,r.a.createElement("div",{onClick:function(a){e.likeClick(a,t.key)}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"red"},class:"far fa-heart fa-2x "}))),r.a.createElement("h1",null,t.Likes," Likes")):e.state.Likedvids.includes(t.key)?r.a.createElement("div",null,r.a.createElement("div",{onClick:function(a){e.unlikeClick(a,t.key)}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"red"},class:"fas fa-heart fa-2x "}))),r.a.createElement("h1",null,t.Likes," Likes")):r.a.createElement("div",null,r.a.createElement("div",{onClick:function(a){e.likeClick(a,t.key)}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"red"},class:"far fa-heart fa-2x "}))),r.a.createElement("h1",null,t.Likes," Likes")))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null))}));return r.a.createElement("div",null,r.a.createElement(A,{obj:this.state}),r.a.createElement("div",{className:"container"},"      ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Welcome ",this.state.Name," !"),r.a.createElement("hr",null),r.a.createElement("h1",{style:{textAlign:"Left",color:"Red",fontStyle:"Italic"}},"Watch Now"),t))}}]),t}(n.Component),P=Object(L.b)((function(e){return{vids:e.videoLisst,users:e.userList}}),(function(e){return{getUsers:function(t){e(O(t))},getVideos:function(t){e(w(t))}}}))(D),_=Object(L.b)((function(e){return{currUsers:e.videoLisst}}),(function(e){return{getVideos:function(t){e(w(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),m=Object(h.a)(l,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(h.a)(f,2),v=b[0],E=b[1],k=Object(n.useState)(""),y=Object(h.a)(k,2),g=y[0],O=y[1],w=Object(n.useState)(0),L=Object(h.a)(w,2),x=L[0],N=(L[1],Object(n.useState)([])),S=Object(h.a)(N,2),U=S[0],C=(S[1],function(e,t){var a=e.target.value;console.log(a),"Name"===t&&c(a),"Videoby"===t&&p(a),"Videoplay"===t&&E(a),"Videodwnld"===t&&O(a)}),I=function(){var t=Object(u.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===s||""===v||""===g){t.next=11;break}return a={Name:s,Author:d,Play:v,Link:g,Likes:x,Comments:U},console.log(a),t.next=5,j.a.post("https://vstreams-444be.firebaseio.com/videos.json",a);case 5:if(200!==t.sent.status){t.next=11;break}return t.next=9,j.a.get("https://vstreams-444be.firebaseio.com/videos.json");case 9:200===(n=t.sent).status&&(r=[],Object.keys(n.data).map((function(e){r.push(Object(i.a)({},n.data[e],{key:e}))})),e.getVideos(r),window.location.reload());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Video Name"),r.a.createElement("input",{class:"form-control",placeholder:"Video Name",onChange:function(e){C(e,"Name")}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Author Name"),r.a.createElement("input",{class:"form-control",placeholder:"Author Name",onChange:function(e){C(e,"Videoby")}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Video Link"),r.a.createElement("input",{class:"form-control",placeholder:"Video Link",onChange:function(e){C(e,"Videoplay")}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Download Link"),r.a.createElement("input",{class:"form-control",placeholder:"Download Link",onChange:function(e){C(e,"Videodwnld")}})),r.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:I},"Submit")))})),R=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},vids:[]},a.user={},a.componentDidMount=function(){var e="",t=new URLSearchParams(a.props.location.search),n=!0,r=!1,s=void 0;try{for(var c,l=t.entries()[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var o=c.value;e=o[0]}}catch(m){r=!0,s=m}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}var i=[];a.props.users.map((function(t){t.key===e&&(i=t.Likedvids,a.setState({user:t}))}));var u=[];void 0!==i?(i.map((function(e){a.props.vids.map((function(t){t.key===e&&u.push(t.Name)}))})),a.setState({vids:u})):a.setState({vids:["You haven't liked any videos yet!"]})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{obj:this.state.user}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.c,null,r.a.createElement("h1",{className:"h1-responsive",style:{textAlign:"center"}},r.a.createElement("span",null,r.a.createElement("i",{style:{color:"red"},class:"fab fa-youtube fa-2x"}))," Your liked videos "),r.a.createElement("hr",{style:{borderTop:"1px solid red"}}),r.a.createElement("br",null),this.state.vids.map((function(e){return r.a.createElement("h1",{style:{color:"black",textAlign:"center"}},e)}))))}}]),t}(n.Component),T=Object(L.b)((function(e){return{vids:e.videoLisst,users:e.userList,click:e.clicked}}),(function(e){return{clicker:function(){return e({type:"clicked"})}}}))(R),W=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!1},a.componentDidMount=Object(u.a)(o.a.mark((function e(){var t,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://vstreams-444be.firebaseio.com/users.json");case 2:return 200===(t=e.sent).status&&null!==t.data&&(n=[],Object.keys(t.data).map((function(e){n.push(Object(i.a)({},t.data[e],{key:e}))})),a.props.getUsers(n)),e.next=6,j.a.get("https://vstreams-444be.firebaseio.com/videos.json");case 6:200===(r=e.sent).status&&null!==r.data&&(s=[],Object.keys(r.data).map((function(e){s.push(Object(i.a)({},r.data[e],{key:e}))})),a.props.getVideos(s));case 8:case"end":return e.stop()}}),e)}))),a.authUpdate=function(){a.setState({auth:!0})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.auth),r.a.createElement("div",{className:"App"},r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(U,{control:e.authUpdate})}}),r.a.createElement(v.a,{path:"/Upload",component:_}),r.a.createElement(v.a,{path:"/Signup",component:x}),this.state.auth?r.a.createElement(v.a,{path:"/Home",component:P}):r.a.createElement(v.a,{path:"/",render:function(t){return r.a.createElement(U,{control:e.authUpdate})}}),this.state.auth?r.a.createElement(v.a,{path:"/Userinfo",component:T}):r.a.createElement(v.a,{path:"/",render:function(t){return r.a.createElement(U,{control:e.authUpdate})}}),r.a.createElement(v.a,{path:"/Signin",render:function(t){return r.a.createElement(U,{control:e.authUpdate})}})))}}]),t}(n.Component),M=Object(L.b)((function(e){return{currUsers:e.userList}}),(function(e){return{getUsers:function(t){e(O(t))},getVideos:function(t){e(w(t))}}}))(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(42),B={userList:[],videoLisst:[],clicked:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;if("usersList"===t.type){var a=t.val;return Object(i.a)({},e,{userList:a})}if("videosList"===t.type){var n=t.val;return Object(i.a)({},e,{videoLisst:n})}if("clicked"===t.type){var r=e.clicked;return Object(i.a)({},e,{clicked:!r})}return e},G=Object(X.b)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),H=r.a.createElement(L.a,{store:G},r.a.createElement(N.a,{basename:"/vstreams/"},r.a.createElement(M,null)));c.a.render(H,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){},84:function(e,t,a){e.exports=a(146)},89:function(e,t,a){},91:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.2173b90f.chunk.js.map